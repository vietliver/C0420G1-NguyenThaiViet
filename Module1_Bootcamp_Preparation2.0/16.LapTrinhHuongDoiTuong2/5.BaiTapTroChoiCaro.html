<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        table, tr, td {
            border: 1px solid black;
            border-collapse: collapse;
        }
        td {
            width: 40px;
            height: 40px;
            text-align: center;
            font-size: xx-large;
        }
    </style>
</head>
<body>
<div id="table"></div>
<script>
    let array = [];
    for (let i = 0; i < 20; i++) {
        array[i] = [];
        for (let j = 0; j< 20; j++) {
            array[i][j] = " ";
        }
    }
    displayTable();

    function displayTable () {
        let stringTable = "<table>";
        for (let i = 0; i < 20; i++) {
            stringTable += "<tr>";
            for (let j = 0; j < 20; j++) {
                stringTable += '<td onclick="play('+i+','+j+')">' + array[i][j] + "</td>"; // <td onclick='play(2,3)'></td>
            }
            stringTable += "</tr>";
        }
        stringTable += "</table>";
        document.getElementById("table").innerHTML = stringTable;
    }

    let checkPlayer1Turn = true;
    function play(x,y) {
        if (checkPlayer1Turn && checkedBox(x,y)) {
            array [x][y] = "x";
            checkPlayer1Turn = false;
            findWinner();
        } else if (!checkPlayer1Turn && checkedBox(x,y)){
            array [x][y] = "o";
            checkPlayer1Turn = true;
            findWinner();
        }
        displayTable();
    }

    function checkedBox(x,y) {
        if (array[x][y] == "x" || array[x][y] == "o") {
            alert ("This box is already checked. Please try another one.");
            return false;
        } else {
            return true;
        }
    }

    function findWinner() {
        for (let i = 0; i < 20; i++) {
            for (let j = 0; j < 20; j++) {
                if (array[i][j] == "x") {
                    if (array[i][j+1] == "x" && array[i][j+2] == "x" && array[i][j+3] == "x" && array[i][j+4] == "x") {
                        alert("Player 1 win.");
                    }
                    if (array[i+1][j] == "x" && array[i+2][j] == "x" && array[i+3][j] == "x" && array[i+4][j] == "x") {
                        alert("Player 1 win.");
                    }
                    if (array[i+1][j+1] == "x" && array[i+2][j+2] == "x" && array[i+3][j+3] == "x" && array[i+4][j+4] == "x") {
                        alert("Player 1 win.");
                    }
                    if (array[i+1][j-1] == "x" && array[i+2][j-2] == "x" && array[i+3][j-3] == "x" && array[i+4][j-4] == "x") {
                        alert("Player 1 win.");
                    }
                }
                if (array[i][j] == "o") {
                    if (array[i][j+1] == "o" && array[i][j+2] == "o" && array[i][j+3] == "o" && array[i][j+4] == "o") {
                        alert("Player 2 win.");
                    }
                    if (array[i+1][j] == "o" && array[i+2][j] == "o" && array[i+3][j] == "o" && array[i+4][j] == "o") {
                        alert("Player 2 win.");
                    }
                    if (array[i+1][j+1] == "o" && array[i+2][j+2] == "o" && array[i+3][j+3] == "o" && array[i+4][j+4] == "o") {
                        alert("Player 2 win.");
                    }
                    if (array[i+1][j-1] == "o" && array[i+2][j-2] == "o" && array[i+3][j-3] == "o" && array[i+4][j-4] == "o") {
                        alert("Player 2 win.");
                    }
                }
            }
        }
    }
</script>
</body>
</html>